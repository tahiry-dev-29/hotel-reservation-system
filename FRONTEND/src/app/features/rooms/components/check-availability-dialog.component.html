<div class="p-4">
  <form [formGroup]="availabilityForm" (ngSubmit)="checkAvailability()">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label for="checkInDate" class="block mb-2">Check-in Date</label>
        <p-datePicker id="checkInDate" formControlName="checkInDate" [showIcon]="true" dateFormat="yy-mm-dd" class="w-full" [baseZIndex]="99999" appendTo="body" autofocus="false"></p-datePicker>
      </div>
      <div>
        <label for="checkOutDate" class="block mb-2">Check-out Date</label>
        <p-datePicker id="checkOutDate" formControlName="checkOutDate" [showIcon]="true" dateFormat="yy-mm-dd" class="w-full" [baseZIndex]="99999" appendTo="body" autofocus="false"></p-datePicker>
      </div>
      <div>
        <label for="numAdults" class="block mb-2">Adults</label>
        <p-inputNumber id="numAdults" formControlName="numAdults" [showButtons]="true" [min]="1" class="w-full"></p-inputNumber>
      </div>
      <div>
        <label for="numChildren" class="block mb-2">Children</label>
        <p-inputNumber id="numChildren" formControlName="numChildren" [showButtons]="true" [min]="0" class="w-full"></p-inputNumber>
      </div>
    </div>
    <div class="flex justify-end mt-6">
      <p-button type="submit" label="Check Availability" [disabled]="availabilityForm.invalid"></p-button>
    </div>
  </form>

  <div class="mt-4">
    @if (availabilityResult() === 'available') {
      <p-message severity="success" text="This room is available!"></p-message>
    }
  </div>

  @if (availabilityResult() !== 'initial') {
    <p-divider></p-divider>
  }

  @if (availabilityResult() === 'available') {
    <div class="flex justify-end mt-4">
      <p-button label="Reserve" (onClick)="reserve()"></p-button>
    </div>
  }
</div>
<p-toast></p-toast>
